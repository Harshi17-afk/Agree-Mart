<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agrimart - Your Agricultural Marketplace</title>
    
    <!-- Google Fonts for multilingual support -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;500;600;700;800&family=Noto+Sans+Kannada:wght@400;500;600;700&family=Noto+Sans+Devanagari:wght@400;500;600;700&family=Noto+Sans+Tamil:wght@400;500;600;700&family=Noto+Sans+Malayalam:wght@400;500;600;700&family=Noto+Sans+Telugu:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <!-- Language Selection Modal -->
    <div id="lang-modal" class="modal">
        <div class="modal-content">
            <h2 data-i18n="choose_language">Choose Your Language</h2>
            <p data-i18n="language_subtitle">Select your preferred language for the website</p>
            <div class="lang-options">
                <button class="lang-option" data-lang="en">English</button>
                <button class="lang-option" data-lang="kn">‡≤ï‡≤®‡≥ç‡≤®‡≤°</button>
                <button class="lang-option" data-lang="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</button>
                <button class="lang-option" data-lang="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</button>
                <button class="lang-option" data-lang="ml">‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç</button>
                <button class="lang-option" data-lang="te">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</button>
            </div>
        </div>
    </div>

    <header>
        <h1 data-i18n="brand">Agrimart</h1>
        <nav>
            {% if session.user_id %}
                <!-- Logged in user navigation -->
                <a href="{{ url_for('dashboard') }}"><span data-i18n="nav_dashboard">Dashboard</span></a>
                <a href="{{ url_for('profile') }}"><span data-i18n="nav_profile">Profile</span></a>
                <a href="{{ url_for('add_user') }}"><span data-i18n="nav_add">Add Farmer</span></a>
                <a href="{{ url_for('list_users') }}"><span data-i18n="nav_users">View Farmers</span></a>
                <a href="{{ url_for('about') }}"><span data-i18n="nav_about">About Us</span></a>
                <a href="{{ url_for('logout') }}"><span data-i18n="nav_logout">Logout</span></a>
            {% else %}
                <!-- Guest user navigation -->
                <a href="{{ url_for('index') }}"><span data-i18n="nav_home">Home</span></a>
                <a href="{{ url_for('about') }}"><span data-i18n="nav_about">About Us</span></a>
                <a href="{{ url_for('login') }}"><span data-i18n="nav_login">Login</span></a>
            {% endif %}
        </nav>
        
        <div class="lang-switcher">
            <button class="lang-btn" id="current-lang" data-i18n="current_lang">English</button>
            <div class="lang-dropdown">
                <button class="lang-option-dropdown" data-lang="en">English</button>
                <button class="lang-option-dropdown" data-lang="kn">‡≤ï‡≤®‡≥ç‡≤®‡≤°</button>
                <button class="lang-option-dropdown" data-lang="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</button>
                <button class="lang-option-dropdown" data-lang="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</button>
                <button class="lang-option-dropdown" data-lang="ml">‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç</button>
                <button class="lang-option-dropdown" data-lang="te">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</button>
            </div>
        </div>
    </header>

    <main>
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                <div class="flash-messages">
                    {% for category, message in messages %}
                        <div class="flash-message {{ category }}">
                            {{ message }}
                        </div>
                    {% endfor %}
                </div>
            {% endif %}
        {% endwith %}
        
        {% block content %}{% endblock %}
    </main>

    <footer>
        <div class="footer-content">
            <div class="contact-links">
                <a href="mailto:mhharshith9@gmail.com" class="contact-link" data-i18n="contact_email">
                    üìß mhharshith9@gmail.com
                </a>
                <a href="tel:+918073613227" class="contact-link" data-i18n="contact_phone">
                    üì± +91-8073613227
                </a>
            </div>
            <div class="footer-brand"></div>
            <p class="copyright" data-i18n="footer_copyright">¬© 2024 Agrimart. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Language system
        const LS_LANG = 'agrimart_lang';
        const LS_FIRST_VISIT = 'agrimart_first_visit';
        
        const translations = {
            en: {
                // Navigation
                nav_home: "Home",
                nav_dashboard: "Dashboard",
                nav_profile: "Profile",
                nav_users: "View Farmers",
                nav_add: "Add Farmer",
                nav_about: "About Us",
                nav_login: "Login",
                nav_logout: "Logout",
                current_lang: "English",
                
                // Login System
                login_title: "Welcome to Agrimart",
                login_subtitle: "Login with your Gmail or phone number to access your account",
                email_login: "Email Login",
                phone_login: "Phone Login",
                email_phone_label: "Email or Phone Number",
                email_phone_placeholder: "Enter your email or phone number",
                send_otp_btn: "Send OTP",
                otp_info: "How it works: 1. Enter your email or phone number 2. We'll send you a 6-digit OTP 3. Enter the OTP to login or create account",
                secure_login: "Secure OTP-based login",
                quick_setup: "Quick account setup",
                farmer_friendly: "Farmer-friendly platform",
                
                // OTP Verification
                verify_otp_title: "Verify Your OTP",
                verify_otp_subtitle: "We've sent a 6-digit OTP to your",
                otp_sent_to: "OTP Sent to",
                otp_expires: "OTP expires in",
                enter_otp_label: "Enter 6-digit OTP",
                otp_placeholder: "000000",
                otp_format: "Enter the 6-digit code sent to your",
                verify_otp_btn: "Verify & Login",
                resend_otp: "Resend OTP",
                change_identifier: "Change",
                need_help: "Need Help?",
                check_spam: "Check your spam/junk folder for emails",
                wait_few_minutes: "Wait a few minutes for SMS delivery",
                contact_support: "Contact support if issues persist",
                
                // Dashboard
                welcome_back: "Welcome back,",
                dashboard_subtitle: "Manage your Agrimart account and explore our services",
                account_status: "Account Status",
                member_since: "Member Since",
                farm_type: "Farm Type",
                quick_actions: "Quick Actions",
                edit_profile: "Edit Profile",
                update_info: "Update your personal information and farm details",
                add_farmer: "Add Farmer",
                register_farmer: "Register a new farmer to sell their products",
                view_farmers: "View Farmers",
                browse_farmers: "Browse all registered farmers and their products",
                about_agrimart: "About Agrimart",
                learn_more: "Learn more about our platform and services",
                account_info: "Account Information",
                full_name: "Full Name",
                email: "Email",
                phone: "Phone",
                location: "Location",
                logout: "Logout",
                
                // Profile
                edit_profile_title: "Edit Your Profile",
                profile_subtitle: "Update your personal information and farm details",
                personal_info: "Personal Information",
                full_name_label: "Full Name",
                email_label: "Email Address",
                email_readonly: "Email cannot be changed",
                phone_label: "Phone Number",
                farm_info: "Farm Information",
                location_label: "Location",
                location_placeholder: "Enter your farm location",
                farm_type_label: "Farm Type",
                select_farm_type: "Select farm type",
                crop_farming: "Crop Farming",
                dairy_farming: "Dairy Farming",
                poultry_farming: "Poultry Farming",
                mixed_farming: "Mixed Farming",
                organic_farming: "Organic Farming",
                horticulture: "Horticulture",
                other: "Other",
                account_info: "Account Information",
                save_changes: "Save Changes",
                cancel: "Cancel",
                back_to_dashboard: "‚Üê Back to Dashboard",
                
                // Common
                brand: "Agrimart",
                choose_language: "Choose Your Language",
                language_subtitle: "Select your preferred language for the website",
                contact_email: "Email: mhharshith9@gmail.com",
                contact_phone: "Phone: +91-8073613227",
                footer_copyright: "¬© 2024 Agrimart. All rights reserved."
            },
            kn: {
                nav_home: "‡≤Æ‡≥Å‡≤ñ‡≤™‡≥Å‡≤ü",
                nav_dashboard: "‡≤°‡≥ç‡≤Ø‡≤æ‡≤∂‡≥ç‚Äå‡≤¨‡≥ã‡≤∞‡≥ç‡≤°‡≥ç",
                nav_profile: "‡≤™‡≥ç‡≤∞‡≥ä‡≤´‡≥à‡≤≤‡≥ç",
                nav_users: "‡≤∞‡≥à‡≤§‡≤∞‡≤®‡≥ç‡≤®‡≥Å ‡≤µ‡≥Ä‡≤ï‡≥ç‡≤∑‡≤ø‡≤∏‡≤ø",
                nav_add: "‡≤∞‡≥à‡≤§‡≤∞‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≥á‡≤∞‡≤ø‡≤∏‡≤ø",
                nav_about: "‡≤®‡≤Æ‡≥ç‡≤Æ ‡≤¨‡≤ó‡≥ç‡≤ó‡≥Ü",
                nav_login: "‡≤≤‡≤æ‡≤ó‡≤ø‡≤®‡≥ç",
                nav_logout: "‡≤≤‡≤æ‡≤ó‡≥ç‚Äå‡≤î‡≤ü‡≥ç",
                current_lang: "‡≤ï‡≤®‡≥ç‡≤®‡≤°",
                login_title: "‡≤Ö‡≤ó‡≥ç‡≤∞‡≤ø‡≤Æ‡≤æ‡≤∞‡≥ç‡≤ü‡≥ç‚Äå‡≤ó‡≥Ü ‡≤∏‡≥Å‡≤∏‡≥ç‡≤µ‡≤æ‡≤ó‡≤§",
                login_subtitle: "‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤ñ‡≤æ‡≤§‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤™‡≥ç‡≤∞‡≤µ‡≥á‡≤∂‡≤ø‡≤∏‡≤≤‡≥Å Gmail ‡≤Ö‡≤•‡≤µ‡≤æ ‡≤´‡≥ã‡≤®‡≥ç ‡≤∏‡≤Ç‡≤ñ‡≥ç‡≤Ø‡≥Ü‡≤Ø‡≥ä‡≤Ç‡≤¶‡≤ø‡≤ó‡≥Ü ‡≤≤‡≤æ‡≤ó‡≤ø‡≤®‡≥ç ‡≤Ü‡≤ó‡≤ø",
                email_login: "‡≤á‡≤Æ‡≥á‡≤≤‡≥ç ‡≤≤‡≤æ‡≤ó‡≤ø‡≤®‡≥ç",
                phone_login: "‡≤´‡≥ã‡≤®‡≥ç ‡≤≤‡≤æ‡≤ó‡≤ø‡≤®‡≥ç",
                email_phone_label: "‡≤á‡≤Æ‡≥á‡≤≤‡≥ç ‡≤Ö‡≤•‡≤µ‡≤æ ‡≤´‡≥ã‡≤®‡≥ç ‡≤∏‡≤Ç‡≤ñ‡≥ç‡≤Ø‡≥Ü",
                email_phone_placeholder: "‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤á‡≤Æ‡≥á‡≤≤‡≥ç ‡≤Ö‡≤•‡≤µ‡≤æ ‡≤´‡≥ã‡≤®‡≥ç ‡≤∏‡≤Ç‡≤ñ‡≥ç‡≤Ø‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤®‡≤Æ‡≥Ç‡≤¶‡≤ø‡≤∏‡≤ø",
                send_otp_btn: "OTP ‡≤ï‡≤≥‡≥Å‡≤π‡≤ø‡≤∏‡≤ø",
                brand: "‡≤Ö‡≤ó‡≥ç‡≤∞‡≤ø‡≤Æ‡≤æ‡≤∞‡≥ç‡≤ü‡≥ç",
                choose_language: "‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤≠‡≤æ‡≤∑‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø",
                language_subtitle: "‡≤µ‡≥Ü‡≤¨‡≥ç‚Äå‡≤∏‡≥à‡≤ü‡≥ç‚Äå‡≤ó‡≤æ‡≤ó‡≤ø ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤Ü‡≤¶‡≥ç‡≤Ø‡≤§‡≥Ü‡≤Ø ‡≤≠‡≤æ‡≤∑‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø",
                contact_email: "‡≤á‡≤Æ‡≥á‡≤≤‡≥ç: mhharshith9@gmail.com",
                contact_phone: "‡≤´‡≥ã‡≤®‡≥ç: +91-8073613227",
                footer_copyright: "¬© 2024 ‡≤Ö‡≤ó‡≥ç‡≤∞‡≤ø‡≤Æ‡≤æ‡≤∞‡≥ç‡≤ü‡≥ç. ‡≤é‡≤≤‡≥ç‡≤≤ ‡≤π‡≤ï‡≥ç‡≤ï‡≥Å‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤ï‡≤æ‡≤Ø‡≥ç‡≤¶‡≥Å‡≤ï‡≥ä‡≤≥‡≥ç‡≤≥‡≤≤‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü."
            },
            hi: {
                nav_home: "‡§π‡•ã‡§Æ",
                nav_dashboard: "‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§°",
                nav_profile: "‡§™‡•ç‡§∞‡•ã‡§´‡§º‡§æ‡§á‡§≤",
                nav_users: "‡§ï‡§ø‡§∏‡§æ‡§®‡•ã‡§Ç ‡§ï‡•ã ‡§¶‡•á‡§ñ‡•á‡§Ç",
                nav_add: "‡§ï‡§ø‡§∏‡§æ‡§® ‡§ú‡•ã‡§°‡§º‡•á‡§Ç",
                nav_about: "‡§π‡§Æ‡§æ‡§∞‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç",
                nav_login: "‡§≤‡•â‡§ó‡§ø‡§®",
                nav_logout: "‡§≤‡•â‡§ó‡§Ü‡§â‡§ü",
                current_lang: "‡§π‡§ø‡§®‡•ç‡§¶‡•Ä",
                login_title: "‡§è‡§ó‡•ç‡§∞‡•Ä‡§Æ‡§æ‡§∞‡•ç‡§ü ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à",
                login_subtitle: "‡§Ö‡§™‡§®‡•á ‡§ñ‡§æ‡§§‡•á ‡§§‡§ï ‡§™‡§π‡•Å‡§Ç‡§ö‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è Gmail ‡§Ø‡§æ ‡§´‡•ã‡§® ‡§®‡§Ç‡§¨‡§∞ ‡§∏‡•á ‡§≤‡•â‡§ó‡§ø‡§® ‡§ï‡§∞‡•á‡§Ç",
                email_login: "‡§à‡§Æ‡•á‡§≤ ‡§≤‡•â‡§ó‡§ø‡§®",
                phone_login: "‡§´‡•ã‡§® ‡§≤‡•â‡§ó‡§ø‡§®",
                email_phone_label: "‡§à‡§Æ‡•á‡§≤ ‡§Ø‡§æ ‡§´‡•ã‡§® ‡§®‡§Ç‡§¨‡§∞",
                email_phone_placeholder: "‡§Ö‡§™‡§®‡§æ ‡§à‡§Æ‡•á‡§≤ ‡§Ø‡§æ ‡§´‡•ã‡§® ‡§®‡§Ç‡§¨‡§∞ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç",
                send_otp_btn: "OTP ‡§≠‡•á‡§ú‡•á‡§Ç",
                brand: "‡§è‡§ó‡•ç‡§∞‡•Ä‡§Æ‡§æ‡§∞‡•ç‡§ü",
                choose_language: "‡§Ö‡§™‡§®‡•Ä ‡§≠‡§æ‡§∑‡§æ ‡§ö‡•Å‡§®‡•á‡§Ç",
                language_subtitle: "‡§µ‡•á‡§¨‡§∏‡§æ‡§á‡§ü ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ö‡§™‡§®‡•Ä ‡§™‡§∏‡§Ç‡§¶‡•Ä‡§¶‡§æ ‡§≠‡§æ‡§∑‡§æ ‡§ö‡•Å‡§®‡•á‡§Ç",
                contact_email: "‡§à‡§Æ‡•á‡§≤: mhharshith9@gmail.com",
                contact_phone: "‡§´‡•ã‡§®: +91-8073613227",
                footer_copyright: "¬© 2024 ‡§è‡§ó‡•ç‡§∞‡•Ä‡§Æ‡§æ‡§∞‡•ç‡§ü‡•§ ‡§∏‡§∞‡•ç‡§µ‡§æ‡§ß‡§ø‡§ï‡§æ‡§∞ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§‡•§"
            },
            ta: {
                nav_home: "‡ÆÆ‡ØÅ‡Æï‡Æ™‡Øç‡Æ™‡ØÅ",
                nav_dashboard: "‡Æü‡Ææ‡Æ∑‡Øç‡Æ™‡Øã‡Æ∞‡Øç‡Æü‡ØÅ",
                nav_profile: "‡Æö‡ØÅ‡ÆØ‡Æµ‡Æø‡Æµ‡Æ∞‡ÆÆ‡Øç",
                nav_users: "‡Æµ‡Æø‡Æµ‡Æö‡Ææ‡ÆØ‡Æø‡Æï‡Æ≥‡Øà‡Æï‡Øç ‡Æï‡Ææ‡Æ£‡Øç‡Æï",
                nav_add: "‡Æµ‡Æø‡Æµ‡Æö‡Ææ‡ÆØ‡Æø‡ÆØ‡Øà‡Æö‡Øç ‡Æö‡Øá‡Æ∞‡Øç‡Æï‡Øç‡Æï",
                nav_about: "‡Æé‡Æô‡Øç‡Æï‡Æ≥‡Øà‡Æ™‡Øç ‡Æ™‡Æ±‡Øç‡Æ±‡Æø",
                nav_login: "‡Æâ‡Æ≥‡Øç‡Æ®‡ØÅ‡Æ¥‡Øà‡Æµ‡ØÅ",
                nav_logout: "‡Æµ‡ØÜ‡Æ≥‡Æø‡ÆØ‡Øá‡Æ±‡ØÅ",
                current_lang: "‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç",
                login_title: "‡ÆÖ‡Æï‡Øç‡Æ∞‡Æø‡ÆÆ‡Ææ‡Æ∞‡Øç‡Æü‡Øç‡Æü‡ØÅ‡Æï‡Øç‡Æï‡ØÅ ‡Æµ‡Æ∞‡Æµ‡Øá‡Æ±‡Øç‡Æï‡Æø‡Æ±‡Øã‡ÆÆ‡Øç",
                login_subtitle: "‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æï‡Æ£‡Æï‡Øç‡Æï‡Øà ‡ÆÖ‡Æ£‡ØÅ‡Æï Gmail ‡ÆÖ‡Æ≤‡Øç‡Æ≤‡Æ§‡ØÅ ‡Æ§‡Øä‡Æ≤‡Øà‡Æ™‡Øá‡Æö‡Æø ‡Æé‡Æ£‡Øç‡Æ£‡ØÅ‡Æü‡Æ©‡Øç ‡Æâ‡Æ≥‡Øç‡Æ®‡ØÅ‡Æ¥‡Øà‡ÆØ‡Æµ‡ØÅ‡ÆÆ‡Øç",
                email_login: "‡ÆÆ‡Æø‡Æ©‡Øç‡Æ©‡Æû‡Øç‡Æö‡Æ≤‡Øç ‡Æâ‡Æ≥‡Øç‡Æ®‡ØÅ‡Æ¥‡Øà‡Æµ‡ØÅ",
                phone_login: "‡Æ§‡Øä‡Æ≤‡Øà‡Æ™‡Øá‡Æö‡Æø ‡Æâ‡Æ≥‡Øç‡Æ®‡ØÅ‡Æ¥‡Øà‡Æµ‡ØÅ",
                email_phone_label: "‡ÆÆ‡Æø‡Æ©‡Øç‡Æ©‡Æû‡Øç‡Æö‡Æ≤‡Øç ‡ÆÖ‡Æ≤‡Øç‡Æ≤‡Æ§‡ØÅ ‡Æ§‡Øä‡Æ≤‡Øà‡Æ™‡Øá‡Æö‡Æø ‡Æé‡Æ£‡Øç",
                email_phone_placeholder: "‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡ÆÆ‡Æø‡Æ©‡Øç‡Æ©‡Æû‡Øç‡Æö‡Æ≤‡Øç ‡ÆÖ‡Æ≤‡Øç‡Æ≤‡Æ§‡ØÅ ‡Æ§‡Øä‡Æ≤‡Øà‡Æ™‡Øá‡Æö‡Æø ‡Æé‡Æ£‡Øç‡Æ£‡Øà ‡Æâ‡Æ≥‡Øç‡Æ≥‡Æø‡Æü‡Æµ‡ØÅ‡ÆÆ‡Øç",
                send_otp_btn: "OTP ‡ÆÖ‡Æ©‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ",
                brand: "‡ÆÖ‡Æï‡Øç‡Æ∞‡Æø‡ÆÆ‡Ææ‡Æ∞‡Øç‡Æü‡Øç",
                choose_language: "‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡ÆÆ‡Øä‡Æ¥‡Æø‡ÆØ‡Øà‡Æ§‡Øç ‡Æ§‡Øá‡Æ∞‡Øç‡Æ®‡Øç‡Æ§‡ØÜ‡Æü‡ØÅ‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç",
                language_subtitle: "‡Æµ‡Æ≤‡Øà‡Æ§‡Øç‡Æ§‡Æ≥‡Æ§‡Øç‡Æ§‡Æø‡Æ±‡Øç‡Æï‡Ææ‡Æ© ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æµ‡Æø‡Æ∞‡ØÅ‡Æ™‡Øç‡Æ™ ‡ÆÆ‡Øä‡Æ¥‡Æø‡ÆØ‡Øà‡Æ§‡Øç ‡Æ§‡Øá‡Æ∞‡Øç‡Æ®‡Øç‡Æ§‡ØÜ‡Æü‡ØÅ‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç",
                contact_email: "‡ÆÆ‡Æø‡Æ©‡Øç‡Æ©‡Æû‡Øç‡Æö‡Æ≤‡Øç: mhharshith9@gmail.com",
                contact_phone: "‡Æ§‡Øä‡Æ≤‡Øà‡Æ™‡Øá‡Æö‡Æø: +91-8073613227",
                footer_copyright: "¬© 2024 ‡ÆÖ‡Æï‡Øç‡Æ∞‡Æø‡ÆÆ‡Ææ‡Æ∞‡Øç‡Æü‡Øç. ‡ÆÖ‡Æ©‡Øà‡Æ§‡Øç‡Æ§‡ØÅ ‡Æâ‡Æ∞‡Æø‡ÆÆ‡Øà‡Æï‡Æ≥‡ØÅ‡ÆÆ‡Øç ‡Æ™‡Ææ‡Æ§‡ØÅ‡Æï‡Ææ‡Æï‡Øç‡Æï‡Æ™‡Øç‡Æ™‡Æü‡Øç‡Æü‡Æµ‡Øà."
            },
            ml: {
                nav_home: "‡¥π‡µã‡¥Ç",
                nav_dashboard: "‡¥°‡¥æ‡¥∑‡µç‚Äå‡¥¨‡µã‡µº‡¥°‡µç",
                nav_profile: "‡¥™‡µç‡¥∞‡µä‡¥´‡µà‡µΩ",
                nav_users: "‡¥ï‡µº‡¥∑‡¥ï‡¥∞‡µÜ ‡¥ï‡¥æ‡¥£‡µÅ‡¥ï",
                nav_add: "‡¥ï‡µº‡¥∑‡¥ï‡¥®‡µÜ ‡¥ö‡µá‡µº‡¥ï‡µç‡¥ï‡µÅ‡¥ï",
                nav_about: "‡¥û‡¥ô‡µç‡¥ô‡¥≥‡µÜ‡¥ï‡µç‡¥ï‡µÅ‡¥±‡¥ø‡¥ö‡µç‡¥ö‡µç",
                nav_login: "‡¥≤‡µã‡¥ó‡¥ø‡µª",
                nav_logout: "‡¥≤‡µã‡¥ó‡µó‡¥ü‡µç‡¥ü‡µç",
                current_lang: "‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç",
                login_title: "‡¥Ö‡¥ó‡µç‡¥∞‡¥ø‡¥Æ‡¥æ‡µº‡¥ü‡µç‡¥ü‡¥ø‡¥≤‡µá‡¥ï‡µç‡¥ï‡µç ‡¥∏‡µç‡¥µ‡¥æ‡¥ó‡¥§‡¥Ç",
                login_subtitle: "‡¥®‡¥ø‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥ü‡µÜ ‡¥Ö‡¥ï‡µç‡¥ï‡µó‡¥£‡µç‡¥ü‡µç ‡¥Ü‡¥ï‡µç‡¥∏‡¥∏‡µç ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡¥æ‡µª Gmail ‡¥Ö‡¥≤‡µç‡¥≤‡µÜ‡¥ô‡µç‡¥ï‡¥ø‡µΩ ‡¥´‡µã‡µ∫ ‡¥®‡¥Æ‡µç‡¥™‡µº ‡¥â‡¥™‡¥Ø‡µã‡¥ó‡¥ø‡¥ö‡µç‡¥ö‡µç ‡¥≤‡µã‡¥ó‡¥ø‡µª ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡µÅ‡¥ï",
                email_login: "‡¥á‡¥Æ‡µÜ‡¥Ø‡¥ø‡µΩ ‡¥≤‡µã‡¥ó‡¥ø‡µª",
                phone_login: "‡¥´‡µã‡µ∫ ‡¥≤‡µã‡¥ó‡¥ø‡µª",
                email_phone_label: "‡¥á‡¥Æ‡µÜ‡¥Ø‡¥ø‡µΩ ‡¥Ö‡¥≤‡µç‡¥≤‡µÜ‡¥ô‡µç‡¥ï‡¥ø‡µΩ ‡¥´‡µã‡µ∫ ‡¥®‡¥Æ‡µç‡¥™‡µº",
                email_phone_placeholder: "‡¥®‡¥ø‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥ü‡µÜ ‡¥á‡¥Æ‡µÜ‡¥Ø‡¥ø‡µΩ ‡¥Ö‡¥≤‡µç‡¥≤‡µÜ‡¥ô‡µç‡¥ï‡¥ø‡µΩ ‡¥´‡µã‡µ∫ ‡¥®‡¥Æ‡µç‡¥™‡µº ‡¥®‡µΩ‡¥ï‡µÅ‡¥ï",
                send_otp_btn: "OTP ‡¥Ö‡¥Ø‡¥Ø‡µç‡¥ï‡µç‡¥ï‡µÅ‡¥ï",
                brand: "‡¥Ö‡¥ó‡µç‡¥∞‡¥ø‡¥Æ‡¥æ‡µº‡¥ü‡µç‡¥ü‡µç",
                choose_language: "‡¥®‡¥ø‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥ü‡µÜ ‡¥≠‡¥æ‡¥∑ ‡¥§‡¥ø‡¥∞‡¥û‡µç‡¥û‡µÜ‡¥ü‡µÅ‡¥ï‡µç‡¥ï‡µÅ‡¥ï",
                language_subtitle: "‡¥µ‡µÜ‡¥¨‡µç‚Äå‡¥∏‡µà‡¥±‡µç‡¥±‡¥ø‡¥®‡¥æ‡¥Ø‡¥ø ‡¥®‡¥ø‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥ü‡µÜ ‡¥™‡µç‡¥∞‡¥ø‡¥Ø‡¥™‡µç‡¥™‡µÜ‡¥ü‡µç‡¥ü ‡¥≠‡¥æ‡¥∑ ‡¥§‡¥ø‡¥∞‡¥û‡µç‡¥û‡µÜ‡¥ü‡µÅ‡¥ï‡µç‡¥ï‡µÅ‡¥ï",
                contact_email: "‡¥á‡¥Æ‡µÜ‡¥Ø‡¥ø‡µΩ: mhharshith9@gmail.com",
                contact_phone: "‡¥´‡µã‡µ∫: +91-8073613227",
                footer_copyright: "¬© 2024 ‡¥Ö‡¥ó‡µç‡¥∞‡¥ø‡¥Æ‡¥æ‡µº‡¥ü‡µç‡¥ü‡µç. ‡¥é‡¥≤‡µç‡¥≤‡¥æ ‡¥Ö‡¥µ‡¥ï‡¥æ‡¥∂‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥Ç ‡¥∏‡¥Ç‡¥∞‡¥ï‡µç‡¥∑‡¥ø‡¥ï‡µç‡¥ï‡¥™‡µç‡¥™‡µÜ‡¥ü‡µç‡¥ü‡¥ø‡¥∞‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥®‡µç‡¥®‡µÅ."
            },
            te: {
                nav_home: "‡∞π‡±ã‡∞Æ‡±ç",
                nav_dashboard: "‡∞°‡∞æ‡∞∑‡±ç‚Äå‡∞¨‡±ã‡∞∞‡±ç‡∞°‡±ç",
                nav_profile: "‡∞™‡±ç‡∞∞‡±ä‡∞´‡±à‡∞≤‡±ç",
                nav_users: "‡∞∞‡±à‡∞§‡±Å‡∞≤‡∞®‡±Å ‡∞ö‡±Ç‡∞°‡∞Ç‡∞°‡∞ø",
                nav_add: "‡∞∞‡±à‡∞§‡±Å‡∞®‡±Å ‡∞ú‡±ã‡∞°‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø",
                nav_about: "‡∞Æ‡∞æ ‡∞ó‡±Å‡∞∞‡∞ø‡∞Ç‡∞ö‡∞ø",
                nav_login: "‡∞≤‡∞æ‡∞ó‡∞ø‡∞®‡±ç",
                nav_logout: "‡∞≤‡∞æ‡∞ó‡±ç‚Äå‡∞Ö‡∞µ‡±Å‡∞ü‡±ç",
                current_lang: "‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å",
                login_title: "‡∞Ö‡∞ó‡µç‡∞∞‡∞ø‡∞Æ‡∞æ‡∞∞‡±ç‡∞ï‡µÜ‡∞ü‡±ç‚Äå‡∞ï‡∞ø ‡∞∏‡±ç‡∞µ‡∞æ‡∞ó‡∞§‡∞Ç",
                login_subtitle: "‡∞Æ‡±Ä ‡∞ñ‡∞æ‡∞§‡∞æ‡∞®‡±Å ‡∞Ø‡∞æ‡∞ï‡±ç‡∞∏‡±Ü‡∞∏‡±ç ‡∞ö‡µá‡∞Ø‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø Gmail ‡∞≤‡±á‡∞¶‡∞æ ‡∞´‡±ã‡∞®‡±ç ‡∞®‡∞Ç‡∞¨‡∞∞‡±ç‚Äå‡∞§‡±ã ‡∞≤‡∞æ‡∞ó‡∞ø‡∞®‡±ç ‡∞ö‡µá‡∞Ø‡∞Ç‡∞°‡∞ø",
                email_login: "‡∞á‡∞Æ‡µÜ‡∞Ø‡∞ø‡∞≤‡±ç ‡∞≤‡∞æ‡∞ó‡∞ø‡∞®‡±ç",
                phone_login: "‡∞´‡±ã‡∞®‡±ç ‡∞≤‡∞æ‡∞ó‡∞ø‡∞®‡±ç",
                email_phone_label: "‡∞á‡∞Æ‡µÜ‡∞Ø‡∞ø‡∞≤‡±ç ‡∞≤‡±á‡∞¶‡∞æ ‡∞´‡±ã‡∞®‡±ç ‡∞®‡∞Ç‡∞¨‡∞∞‡±ç",
                email_phone_placeholder: "‡∞Æ‡±Ä ‡∞á‡∞Æ‡µÜ‡∞Ø‡∞ø‡∞≤‡±ç ‡∞≤‡±á‡∞¶‡∞æ ‡∞´‡±ã‡∞®‡±ç ‡∞®‡∞Ç‡∞¨‡∞∞‡±ç‚Äå‡∞®‡±Å ‡∞®‡∞Æ‡±ã‡∞¶‡±Å ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø",
                send_otp_btn: "OTP ‡∞™‡∞Ç‡∞™‡∞Ç‡∞°‡∞ø",
                brand: "‡∞Ö‡∞ó‡µç‡∞∞‡∞ø‡∞Æ‡∞æ‡∞∞‡±ç‡∞ï‡µÜ‡∞ü‡±ç",
                choose_language: "‡∞Æ‡±Ä ‡∞≠‡∞æ‡∞∑‡∞®‡±Å ‡∞é‡∞Ç‡∞ö‡µÅ‡∞ï‡µç‡∞ï‡∞Ç‡∞°‡∞ø",
                language_subtitle: "‡∞µ‡±Ü‡∞¨‡µç‚Äå‡∞∏‡±à‡∞ü‡±ç ‡∞ï‡±ã‡∞∏‡∞Ç ‡∞Æ‡±Ä ‡∞á‡∞∑‡±ç‡∞ü‡∞Æ‡±à‡∞® ‡∞≠‡∞æ‡∞∑‡∞®‡±Å ‡∞é‡∞Ç‡∞ö‡µÅ‡∞ï‡µç‡∞ï‡∞Ç‡∞°‡∞ø",
                contact_email: "‡∞á‡∞Æ‡µÜ‡∞Ø‡∞ø‡∞≤‡±ç: mhharshith9@gmail.com",
                contact_phone: "‡∞´‡±ã‡∞®‡±ç: +91-8073613227",
                footer_copyright: "¬© 2024 ‡∞Ö‡∞ó‡µç‡∞∞‡∞ø‡∞Æ‡∞æ‡∞∞‡±ç‡∞ï‡µÜ‡∞ü‡±ç. ‡∞Ö‡∞®‡±ç‡∞®‡∞ø ‡∞π‡∞ï‡µç‡∞ï‡µÅ‡∞≤‡±Å ‡∞∞‡∞ï‡µç‡∞∑‡∞ø‡∞Ç‡∞ö‡∞¨‡∞°‡µç‡∞°‡∞æ‡∞Ø‡∞ø."
            }
        };

        let currentLang = localStorage.getItem(LS_LANG) || 'en';

        function setLang(lang) {
            currentLang = lang;
            localStorage.setItem(LS_LANG, lang);
            localStorage.setItem(LS_FIRST_VISIT, 'false');
            updateLanguageButton();
            translatePage();
        }

        function updateLanguageButton() {
            const btn = document.getElementById('current-lang');
            if (btn) {
                btn.textContent = translations[currentLang]?.current_lang || 'English';
            }
        }

        function translatePage() {
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (translations[currentLang] && translations[currentLang][key]) {
                    el.textContent = translations[currentLang][key];
                }
            });

            document.querySelectorAll('[data-i18n-ph]').forEach(el => {
                const key = el.getAttribute('data-i18n-ph');
                if (translations[currentLang] && translations[currentLang][key]) {
                    el.placeholder = translations[currentLang][key];
                }
            });
        }

        function maybeOpenModal() {
            const firstVisit = localStorage.getItem(LS_FIRST_VISIT);
            if (firstVisit !== 'false') {
                document.getElementById('lang-modal').classList.add('open');
            }
        }

        function wireModal() {
            document.querySelectorAll('.lang-option').forEach(btn => {
                btn.addEventListener('click', () => {
                    setLang(btn.dataset.lang);
                    document.getElementById('lang-modal').classList.remove('open');
                });
            });

            document.querySelectorAll('.lang-option-dropdown').forEach(btn => {
                btn.addEventListener('click', () => {
                    setLang(btn.dataset.lang);
                    document.querySelector('.lang-dropdown').classList.remove('show');
                });
            });

            const langBtn = document.getElementById('current-lang');
            if (langBtn) {
                langBtn.addEventListener('click', () => {
                    document.querySelector('.lang-dropdown').classList.toggle('show');
                });
            }

            // Close dropdown when clicking outside
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.lang-switcher')) {
                    document.querySelector('.lang-dropdown').classList.remove('show');
                }
            });
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            updateLanguageButton();
            translatePage();
            maybeOpenModal();
            wireModal();
        });
    </script>
</body>
</html>
